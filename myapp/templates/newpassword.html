{% extends "header.html" %}
{% load static %}
{% block content %}

<head>
    <!-- Other head elements -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
</head>

<div class="container-fluid bg-primary py-5 mb-5 hero-header">
    <div class="container py-5">
        <div class="row justify-content-center py-5">
            <div class="col-lg-10 pt-lg-5 mt-lg-5 text-center">
                <h1 class="display-3 text-white animated slideInDown">New Password</h1>
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb justify-content-center">
                        <li class="breadcrumb-item"><a href="index">Home</a></li>
                        <li class="breadcrumb-item text-white active" aria-current="page">New Password</li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
</div>
<!-- Navbar & Hero End -->

{% comment %} {{msg}} {% endcomment %}

<div class="container-xxl py-5 wow fadeInUp" data-wow-delay="0.1s">
    <h6 style="color: red;">{{msg}}</h6>
    <div class="container">
        <div class="booking p-5">
            <div class="row g-5 align-items-center">
                <div class="col-md-6 text-white">
                    <h6 class="text-white text-uppercase">New Password</h6>
                    <p class="mb-4">Tourism is distinguished from exploration in that tourists follow a “beaten path,”
                        benefit from established systems of provision, and, as befits pleasure-seekers, are generally
                        insulated from difficulty, danger, and embarrassment. <br><br> Tourism, however, overlaps with other
                        activities, interests, and processes, including, for example, pilgrimage. This gives rise to
                        shared categories, such as “business tourism,” “sports tourism,” and “medical tourism”
                        (international travel undertaken for the purpose of receiving medical care).</p>
                </div>
                <div class="col-md-6">
                    <h1 class="text-white mb-4">New Password</h1>
                    <form method="post" action="{% url "newpassword" %}" onsubmit="return validateForm()">
                        {% csrf_token %}
                        <div class="row g-3">
                            <div class="col-md-12">
                                <div class="form-floating">
                                    <input name="password" type="text" class="form-control bg-transparent" id="email"
                                        placeholder="Enter newpassword" style="color:white;">
                                    <label for="newpassword">Enter New Password</label>
                                </div>
                                
                            </div>
                            
                            <div class="col-12">
                                <button class="btn btn-outline-light w-100 py-3" type="submit">Submit</button>
                            </div>

                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Include jQuery and Toastr JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

<!-- Django messages and Toastr -->
<script>
    {% if messages %}
        {% for message in messages %}
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": false,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "3000",  // 2 seconds
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            };
            toastr["{{ message.tags }}"]("{{ message }}");
        {% endfor %}
    {% endif %}
</script>

<!-- Client-side password validation -->
<script>
    function validateForm() {
        const password = document.getElementById("password").value;
        if (password.length < 8) {
            toastr.error("Password must be at least 8 characters long.");
            return false;
        }
        return true;
    }
</script>

{% endblock %}
